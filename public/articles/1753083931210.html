<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="style/style.css">
    <link rel="stylesheet" href="style/footer.css">
    <link rel="stylesheet" href="style/adaptives.css">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="favicon.svg">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>89708987</title>
    <meta name="description" content="">
    <meta name="keywords" content="89708987,статья,новости">
    <meta name="robots" content="index, follow">
    <meta name="author" content="Бур Строй Ком">
    <link rel="canonical" href="https://yourdomain.com/article/1753083931210">
</head>
<body>
    <header id="header_up">
        <div class="header_fixed_block">
            <div class="header_container">
                <div data-aos="fade-down" class="header_content_container">
                    <div class="letf_side_header">
                        <div class="logo_burger">
                            <img class="burger" src="content/burger.svg" alt="burger_icon">
                            <a href="/index.html" class="logo_font">БУР СТРОЙ</a>
                        </div>
                        <nav class="navigation">
                            <ul>
                                <li><a class="opacity_change_hader" href="/index.html">Главная</a></li>
                                <li><a class="opacity_change_hader" href="/tecnology.html">Технологии</a></li>
                                <li><a class="opacity_change_hader" href="/material.html">Материалы</a></li>
                                <li><a class="orange_state" href="/portfolio.html">Портфолио</a></li>
                                <li><a class="opacity_change_hader" href=#footer">Контакты</a></li>
                            </ul>
                        </nav>
                    </div>
                    <div class="right_side_header">
                        <div class="contct_container">
                            <button class="phone_contact white_color">
                                <img src="content/phone_icon.svg" alt="phone_icon">
                                <address>
                                    <a href="tel:+79897654565">+7 (989) 765 45 65</a>
                                </address>
                            </button>
                            <button class="chat_contact">
                                <img src="content/chat_icon.svg" alt="chat_icon">
                                <p>Написать</p>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <div  class="mobile_header_navigation">
                <div class="content_mobile_navigation">
                    <button class="close_mobile_navigation">
                        <span>
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                                <path stroke-linecap="round" stroke-linejoin="round" d="m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                            </svg>
                        </span>
                    </button>
                    <nav class="navigation_mobile">
                        <ul>
                                <li><a class="orange_state" href="/index.html">Главная</a></li>
                                <li><a class="opacity_change_hader" href="/tecnology.html">Технологии</a></li>
                                <li><a class="opacity_change_hader" href="/material.html">Материалы</a></li>
                                <li><a class="opacity_change_hader" href="/portfolio.html">Портфолио</a></li>
                                <li><a class="opacity_change_hader" href="#footer">Контакты</a></li>
                            </ul>
                    </nav>
                </div>
            </div>
        </div>
    </header>
    <main>
        <div class="main_container_article">
            <div  data-aos="zoom-in" class="title_block_article">
                <h4 class="titile_bloks__">Технологии</h4>
                <form class="form">
                    <button type="submit">
                        <svg width="17" height="16" fill="none" xmlns="http://www.w3.org/2000/svg" role="img" aria-labelledby="search">
                            <path d="M7.667 12.667A5.333 5.333 0 107.667 2a5.333 5.333 0 000 10.667zM14.334 14l-2.9-2.9" stroke="currentColor" stroke-width="1.333" stroke-linecap="round" stroke-linejoin="round"></path>
                        </svg>
                    </button>
                    <input class="input" placeholder="Поиск статей" type="text">
                    <button class="search_article" type="submit">поиск</button>
                </form>
            </div>
            <div class="line_under_title"></div>
            <div class="content_artile_article">
                <div class="title_article_article">
                     <h1>89708987</h1>
                    <p>10:45, 21 июля - Источник: <a class="ijfoeqrfjowefer" href="/index.html">Бур Строй Ком</a></p>
                </div>
                <div class="content_article_artilce">
                    
                        <figure>
                            <img src="/img/1753083931197-94656496-image.png" alt="kjnjljnlkjnkl" style="max-width: 100%;">
                            <figcaption>kjnjljnlkjnkl</figcaption>
                        </figure>
                    
                        <figure>
                            <img src="/img/1753083931205-869526934-image.png" alt="" style="max-width: 100%;">
                            <figcaption></figcaption>
                        </figure>
                    
                </div>
            </div>
            <div class="block_read_next">
                <h4 class="titile_bloks__ iooijef">Читайте далее</h4>
                 <div class="line_under_title"></div>
                 <div class="grid_container opajjdbe">

                 </div>
                 <div class="text_content_container qwefwef">
                    <button onclick="window.location.href='/material.html'" class="wuiqiebfbhdmsbjxb" id="footer_button" data-aos="fade-up" data-aos-duration="1000">Все статьи<img src="content/arrow_for_button_footer.svg" alt="arrow_footer"></button>
                </div>
            </div>
        </div>
    </main>
    <footer id="footer">
        <div class="dop_information_under_footer">
            <div class="dop_footer_container">
                <div class="text_content_container">
                    <p data-aos="zoom-in-down">гарантирует качественное устройство буронабивных свай</p>  
                    <h3 data-aos="zoom-out-down">Ваш надежный партнер в <span style="color: #FF8B3A !important;">буронабивных сваях.</span><br> Доверьтесь профессионалам</h3>
                    <button id="footer_button" data-aos="fade-up" data-aos-duration="1000">Оставить заявку<img src="content/arrow_for_button_footer.svg" alt="arrow_footer"></button>
                </div>
            </div>
        </div>
        <div class="footer_container">
            <div class="footer_content">
                <div class="up_line_content">
                    <div data-aos="fade-right" class="lfsifooter">
                        <div class="titlefooter_text">
                            <h3><span class="orange_statee">Бур</span> Строй Ком</h3>
                            <p>Только  жесткий контроль на каждом <br> этапе – это наш стандарт для вашей <br> надежной опоры.</p>
                        </div>
                        <div class="mini_navigatio">
                            <nav class="navigation_mini">
                                <ul class="opacity_change_footer">
                                    <li><a href="#header_up">Главная</a></li>
                                    <li><a href="/tecnology.html">Технологии</a></li>
                                    <li><a href="/material.html">Материалы</a></li>
                                    <li><a href="/portfolio.html">Портфолио</a></li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                    <div data-aos="fade-left" class="rhsifooter">
                        <a class="up_link" href="#header_up">На вверх <img src="content/arrow_footer.svg" alt="arrow"></a>
                        <address class="footer_address">
                            <a href="tel:+78005553535">Телефон - +8 (800) 555 35 - 35</a>
                            <a href="mailto:bursroy@gmail.com">Почта - bursroy@gmail.com</a>
                        </address>
                        <a href="#">Политика конфиденциальности</a>
                    </div>
                </div>
                <div class="line_white"></div>
                <div class="down_line_content">
                    <p>© 2025 Все права защищены</p>
                    <a href="#">Created Innovium Office</a>
                </div>
            </div>
        </div>
    </footer>
    <script src="script/script.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="script/smooth-page-transition.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
  const containerArticle = document.querySelector('.grid_container');
  if (!containerArticle) {
    console.error('Контейнер .grid_container не найден в HTML');
    return;
  }

  async function loadJSON() {
    try {
      const response = await fetch('/data_article.json');
      if (!response.ok) throw new Error(`Не удалось загрузить JSON: ${response.status}`);
      const data = await response.json();
      console.log('JSON данные:', data);
      return data;
    } catch (error) {
      console.error('Ошибка при загрузке JSON:', error);
    }
  }

  async function getFirstImageFromArticle(articleId) {
    try {
      const response = await fetch(`articles/${articleId}.html`);
      if (!response.ok) throw new Error(`Не удалось загрузить статью: ${response.status}`);
      const htmlContent = await response.text();
      
      const parser = new DOMParser();
      const doc = parser.parseFromString(htmlContent, 'text/html');
      
      // Список иконок, которые нужно игнорировать
      const ignoredImages = ['burger.svg', 'phone_icon.svg', 'chat_icon.svg'];
      
      // Ищем все теги <img> в статье
      const imgElements = doc.querySelectorAll('img');
      
      // Находим первое изображение, чей src не содержит игнорируемые имена
      const imgElement = Array.from(imgElements).find(img => {
        const src = img.src.toLowerCase();
        return !ignoredImages.some(ignored => src.includes(ignored));
      });
      
      const imageSrc = imgElement ? imgElement.src : 'content/example_img_for_article.png';
      console.log(`Изображение для статьи ${articleId}: ${imageSrc}`);
      return imageSrc;
    } catch (error) {
      console.error(`Ошибка при загрузке изображения для статьи ${articleId}:`, error);
      return 'content/example_img_for_article.png';
    }
  }

  async function displayArticles() {
    const articles = await loadJSON();
    if (!articles || !Array.isArray(articles)) {
      console.error('Данные не загружены или не являются массивом');
      return;
    }

    containerArticle.innerHTML = '';

    for (const article of articles.slice(0, 3)) {
      const image = await getFirstImageFromArticle(article.id);
      
      const textElement = article.content.elements.find(element => element.type === 'text');
      const description = textElement ? textElement.value.split('\n')[0] : 'Описание отсутствует';

      const articleLink = `${article.id}.html`;
      console.log(`Ссылка на статью ${article.id}: ${articleLink}`);

      const ItemArticle = `
        <div class="grid_item">
          <div class="item_content_container">
            <div class="information_articless">
              <div class="text_block_for_item_grid">
                <h3>${article.title.substring(0, 50)}...</h3>
                <h4>${description}</h4>
              </div>
              <div class="button_contiioerfnireog">
                <button class="link_on_articles" onclick="window.location.href='${articleLink}'">Читать<img src="content/book_icon.svg" alt="book_icon"></button>
              </div>
            </div>
          </div>
        </div>
      `;
      containerArticle.insertAdjacentHTML('beforeend', ItemArticle);
    }
  }

  displayArticles();
});
    </script>
<script>
  AOS.init();
</script>
</body>
</html>